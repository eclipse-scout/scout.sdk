<!--
  ~ Copyright (c) 2010-2020 BSI Business Systems Integration AG.
  ~ All rights reserved. This program and the accompanying materials
  ~ are made available under the terms of the Eclipse Public License v1.0
  ~ which accompanies this distribution, and is available at
  ~ http://www.eclipse.org/legal/epl-v10.html
  ~
  ~ Contributors:
  ~     BSI Business Systems Integration AG - initial API and implementation
  -->
<idea-plugin allow-bundled-update="true" require-restart="true">
  <id>org.eclipse.scout.sdk.s2i</id>
  <name>Eclipse Scout</name>
  <version>11.0.0.9999999999</version>

  <vendor url="https://www.eclipse.org/scout/">Eclipse Scout Project</vendor>

  <description><![CDATA[
      <p>
      Eclipse Scout integration for IntelliJ IDEA
      </p>
      <p>Supports Scout runtime versions 10 and 11.</p>
      <p>
      Features:
        <br>
        <ul>
          <li>Derived resource update for FormData and PageData</li>
          <li>Java code completion for Scout elements like FormFields, Menus, KeyStrokes, Codes and more.</li>
          <li>JavaScript code completion for Scout JS models.</li>
          <li>Scout national language support
            <ul>
              <li>Editor for Scout nls files</li>
              <li>Inspections for missing and unused translations</li>
              <li>Code completion for Scout translation keys in Java, JavaScript and HTML</li>
              <li>Tooltip documentation for Scout translation keys</li>
              <li>Code folding support for Scout translations with configurable display language</li>
            </ul>
          </li>
          <li>@ClassId validation inspections (missing, duplicates)</li>
        </ul>
        </p>
  ]]></description>

  <change-notes><![CDATA[
        <ul>
          <li>Adds support for Scout 11.</li>
          <li>Adds JavaScript code completion for Scout JS models.</li>
          <li>Adds an inspection reporting unused translations (not referred in the code) that might be deleted.</li>
          <li>Adds code folding support for Scout translations with configurable display language.</li>
        </ul>
  ]]></change-notes>

  <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/build_number_ranges.html for description -->
  <idea-version since-build="201.7846.76"/>

  <depends>com.intellij.modules.platform</depends>
  <depends>com.intellij.modules.lang</depends>
  <depends>com.intellij.modules.java</depends>
  <depends>org.jetbrains.idea.maven</depends>
  <depends>com.intellij.copyright</depends>
  <depends>com.intellij.properties</depends>
  <depends optional="true" config-file="withJavaScript.xml">JavaScript</depends>

  <extensions defaultExtensionNs="com.intellij">
    <postStartupActivity implementation="org.eclipse.scout.sdk.s2i.IdeaLogger"/>
    <postStartupActivity implementation="org.eclipse.scout.sdk.s2i.nls.IdeaTranslationStoreSupplier"/>
    <postStartupActivity implementation="org.eclipse.scout.sdk.s2i.IdeaSettingsCommentGenerator"/>
    <postStartupActivity implementation="org.eclipse.scout.sdk.s2i.IdeaMavenRunner"/>
    <postStartupActivity implementation="org.eclipse.scout.sdk.s2i.classid.AutoCreateClassIdStartup"/>
    <postStartupActivity implementation="org.eclipse.scout.sdk.s2i.derived.impl.DerivedResourceManagerStartup"/>
    <projectService serviceImplementation="org.eclipse.scout.sdk.s2i.classid.AutoCreateClassIdListener"/>
    <projectService serviceInterface="org.eclipse.scout.sdk.s2i.derived.DerivedResourceManager"
                    serviceImplementation="org.eclipse.scout.sdk.s2i.derived.impl.DerivedResourceManagerImplementor"/>
    <projectService serviceInterface="org.eclipse.scout.sdk.s2i.classid.ClassIdCache"
                    serviceImplementation="org.eclipse.scout.sdk.s2i.classid.ClassIdCacheImplementor"/>
    <projectService serviceImplementation="org.eclipse.scout.sdk.s2i.nls.TranslationStoreStackCache"/>
    <applicationService serviceImplementation="org.eclipse.scout.sdk.s2i.settings.ScoutCodeFoldingSettings"/>
    <projectConfigurable groupId="language" displayName="Scout" id="preferences.ScoutSettings"
                         instance="org.eclipse.scout.sdk.s2i.settings.ScoutSettings"/>
    <macro implementation="org.eclipse.scout.sdk.s2i.IdeaHomePathMacro"/>
    <localInspection language="JAVA" shortName="MissingClassId" groupName="Scout" enabledByDefault="false" level="ERROR" key="missing.classid.annotation"
                     implementationClass="org.eclipse.scout.sdk.s2i.classid.MissingClassIdInspection"/>
    <localInspection language="JAVA" shortName="DuplicateClassId" groupName="Scout" enabledByDefault="false" level="ERROR" key="duplicate.classid.inspection.displayName"
                     implementationClass="org.eclipse.scout.sdk.s2i.classid.DuplicateClassIdInspection"/>
    <localInspection shortName="MissingTranslation" groupName="Scout" enabledByDefault="true" level="WARNING" key="missing.translation.inspection.displayName"
                     implementationClass="org.eclipse.scout.sdk.s2i.nls.inspection.MissingTranslationInspection"/>
    <globalInspection shortName="UnusedTranslation" groupName="Scout" enabledByDefault="false" level="WARNING" key="unused.translation.inspection.displayName"
                      implementationClass="org.eclipse.scout.sdk.s2i.nls.inspection.UnusedTranslationInspection"/>
    <fileType name="Scout National Language Support" extensions="nls" fieldName="INSTANCE" implementationClass="org.eclipse.scout.sdk.s2i.nls.NlsFileType"/>
    <fileEditorProvider implementation="org.eclipse.scout.sdk.s2i.nls.editor.NlsFileEditorProvider"/>
    <completion.contributor language="JAVA" implementationClass="org.eclipse.scout.sdk.s2i.nls.completion.NlsCompletionContributorForJava" id="scoutNlsCompletionJava" order="before propertiesCompletion"/>
    <completion.contributor language="HTML" implementationClass="org.eclipse.scout.sdk.s2i.nls.completion.NlsCompletionContributorForHtml" id="scoutNlsCompletionHtml" order="before html"/>
    <completion.contributor language="JAVA" implementationClass="org.eclipse.scout.sdk.s2i.template.java.TemplateCompletionContributor" id="scoutTemplateCompletionJava" order="first"/>
    <lang.documentationProvider language="JAVA" implementationClass="org.eclipse.scout.sdk.s2i.nls.doc.NlsDocumentationProviderForJava" id="scoutNlsKeyDocumentationJava" order="first"/>
    <lang.documentationProvider language="HTML" implementationClass="org.eclipse.scout.sdk.s2i.nls.doc.NlsDocumentationProviderForHtml" id="scoutNlsKeyDocumentationHtml" order="first"/>
    <lang.foldingBuilder language="JAVA" implementationClass="org.eclipse.scout.sdk.s2i.nls.folding.NlsFoldingBuilderForJava"/>
    <lang.foldingBuilder language="HTML" implementationClass="org.eclipse.scout.sdk.s2i.nls.folding.NlsFoldingBuilderForHtml"/>
    <codeFoldingOptionsProvider instance="org.eclipse.scout.sdk.s2i.settings.ScoutCodeFoldingOptionsProvider"/>
    <liveTemplateMacro implementation="org.eclipse.scout.sdk.s2i.template.java.DescendantAbstractClassesEnumMacro"/>
    <liveTemplateMacro implementation="org.eclipse.scout.sdk.s2i.nls.NlsKeysEnumMacro"/>
    <liveTemplateMacro implementation="org.eclipse.scout.sdk.s2i.template.java.PsiExpressionEnumMacro"/>
  </extensions>

  <actions>
    <group id="org.eclipse.scout.sdk.s2i.ScoutMenu" text="Scout">
      <add-to-group group-id="MainMenu" relative-to-action="ToolsMenu" anchor="after"/>
      <action id="org.eclipse.scout.sdk.s2i.UpdateAllDerivedResourcesMenu"
              class="org.eclipse.scout.sdk.s2i.derived.impl.UpdateAllDerivedResourcesMenu"/>
    </group>
  </actions>

  <resource-bundle>messages.EclipseScoutBundle</resource-bundle>
</idea-plugin>
